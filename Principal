import javax.swing.*;
import javax.swing.border.TitledBorder;
import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.io.FileNotFoundException;
import java.util.ArrayList;
import java.util.Formatter;

public class Funcionario extends JFrame {

    public static void main(String[] args) {
        Funcionario app = new Funcionario();
        app.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
    }
    private static final long serialVersionUID = 1L;
    public String codigo;
    public String nomeFunc;
    public String cargo;
    public double salario;
    public String nomeDependente;
    public int totalDependentes;

    public String getCodigo () {
        return codigo;
    }
    public String getNomeFunc () {
        return nomeFunc;
    }
    public String getCargo () {
        return cargo;
    }
    public double getSalario () {
        return salario;
    }

    public String getNomeDependente () {
        return nomeDependente;
    }

    public int getTotalDependentes () {
        return totalDependentes;
    }

    private JPanel inputDetailJPanel;

    //Código Funcionário
    private JLabel CodigoJLabel;
    private JTextField CodigoJTextField;

    //Nome Funcionário
    private JLabel NomeFuncJLabel;
    private JTextField NomeFuncJTextField;


    //Cargo
    private JLabel CargoJLabel;
    private JTextField CargoJTextField;

    //Salario
    private JLabel SalarioJLabel;
    private JTextField SalarioJTextField;

    //Nome Dependente
    private JLabel nomeDependenteJLabel;
    private JTextField nomeDependenteJTextField;

    //Total Dependentes
    private JLabel TotalDependenteJLabel;
    private JTextField TotalDependenteJTextField;

    //Botões

    private JButton CriarFuncionarioJButton;
    private JButton ApagarFuncionarioJButton;
    private JButton CriarDependenteJButton;
    private JButton MostrarDadosJButton;
    private JButton ImprimirDadosJButton;

    //Tela Detalhes Funcionários
    private JLabel displayJLabel;
    private static JTextArea displayJTextArea;

    ArrayList<DadosFuncionario> Funcionarios = new ArrayList<>();

    public Funcionario(){
        interfaceUsuario();
    }

    private void interfaceUsuario(){
        Container contentPane = getContentPane();
        contentPane.setLayout(null);

        //Layout Empresa
        inputDetailJPanel = new JPanel();
        inputDetailJPanel.setBounds(16,16,208,296);
        inputDetailJPanel.setBorder(new TitledBorder("Empresa"));
        inputDetailJPanel.setLayout(null);
        contentPane.add(inputDetailJPanel);

        //Código - JLabel
        CodigoJLabel = new JLabel();
        CodigoJLabel.setBounds(8,32,90,23);
        CodigoJLabel.setText("Código:");
        inputDetailJPanel.add(CodigoJLabel);

        //Código - JText
        CodigoJTextField = new JTextField();
        CodigoJTextField.setBounds(112,32,80,21);
        CodigoJTextField.setHorizontalAlignment(JTextField.RIGHT);
        inputDetailJPanel.add(CodigoJTextField);

        //Nome Funcionário - JLabel
        NomeFuncJLabel = new JLabel();
        NomeFuncJLabel.setBounds(8,56,100,23);
        NomeFuncJLabel.setText("Funcionário: ");
        inputDetailJPanel.add(NomeFuncJLabel);

        //Nome Funcionário - JText
        NomeFuncJTextField = new JTextField();
        NomeFuncJTextField.setBounds(112,56,80,21);
        NomeFuncJTextField.setHorizontalAlignment(JTextField.RIGHT);
        inputDetailJPanel.add(NomeFuncJTextField);

        //Cargo - JLabel
        CargoJLabel = new JLabel();
        CargoJLabel.setBounds(8,75,80,32);
        CargoJLabel.setText("Cargo: ");
        inputDetailJPanel.add(CargoJLabel);

        //Cargo - JTextField
        CargoJTextField = new JTextField();
        CargoJTextField.setBounds(112,80,80,21);
        CargoJTextField.setHorizontalAlignment(JTextField.RIGHT);
        inputDetailJPanel.add(CargoJTextField);

        //Salario - JLabel
        SalarioJLabel = new JLabel();
        SalarioJLabel.setBounds(8,104,80,23);
        SalarioJLabel.setText("Salário: ");
        inputDetailJPanel.add(SalarioJLabel);

        //Salário - JText
        SalarioJTextField = new JTextField();
        SalarioJTextField.setBounds(112,104,80,21);
        SalarioJTextField.setHorizontalAlignment(JTextField.RIGHT);
        inputDetailJPanel.add(SalarioJTextField);

        //Nome Dependente - JLabel
        nomeDependenteJLabel = new JLabel();
        nomeDependenteJLabel.setBounds(8,128,100,23);
        nomeDependenteJLabel.setText("Dependente: ");
        inputDetailJPanel.add(nomeDependenteJLabel);

        //Nome Dependente - JText
        nomeDependenteJTextField = new JTextField();
        nomeDependenteJTextField.setBounds(112,128,80,21);
        nomeDependenteJTextField.setHorizontalAlignment(JTextField.RIGHT);
        inputDetailJPanel.add(nomeDependenteJTextField);

        //Total Dependentes - JLabel
        TotalDependenteJLabel = new JLabel();
        TotalDependenteJLabel.setBounds(8,152,100,21);
        TotalDependenteJLabel.setText("Quantidade: ");
        inputDetailJPanel.add(TotalDependenteJLabel);

        //Total Dependente - JText
        TotalDependenteJTextField = new JTextField();
        TotalDependenteJTextField.setBounds(112,152,80,21);
        TotalDependenteJTextField.setHorizontalAlignment(JTextField.RIGHT);
        inputDetailJPanel.add(TotalDependenteJTextField);

        //Ativação Botão Criar
        CriarFuncionarioJButton = new JButton();
        CriarFuncionarioJButton.setBounds(112,176,80,24);
        CriarFuncionarioJButton.setText("Criar");
        inputDetailJPanel.add(CriarFuncionarioJButton);
        CriarFuncionarioJButton.addActionListener(
                new ActionListener() {
                    @Override
                    public void actionPerformed(ActionEvent e) {
                        CriarFuncionarioJButtonAtivacao(e);
                    }
                }
        );

        //Ativação Botão Apagar
        ApagarFuncionarioJButton = new JButton();
        ApagarFuncionarioJButton.setBounds(16,176,80,24);
        ApagarFuncionarioJButton.setText("Apagar");
        inputDetailJPanel.add(ApagarFuncionarioJButton);
        ApagarFuncionarioJButton.addActionListener(
                new ActionListener() {
                    @Override
                    public void actionPerformed(ActionEvent e) {
                      ApagarFuncionarioJButtonAtivacao(e);
                    }
                }
        );

        //Ativação Botão Criar Dependente
        CriarDependenteJButton = new JButton();
        CriarDependenteJButton.setBounds(16,204,176,24);
        CriarDependenteJButton.setText("Criar Dependente");
        inputDetailJPanel.add(CriarDependenteJButton);
        CriarDependenteJButton.addActionListener(
                new ActionListener() {
                    @Override
                    public void actionPerformed(ActionEvent e) {
                        CriarDependenteJButtonAtivacao(e);
                    }
                }
        );

        //Ativação Botão Mostrar Dados
        MostrarDadosJButton = new JButton();
        MostrarDadosJButton.setBounds(16,232,176,24);
        MostrarDadosJButton.setText("Mostrar Dados");
        inputDetailJPanel.add(MostrarDadosJButton);
        MostrarDadosJButton.addActionListener(
                new ActionListener() {
                    @Override
                    public void actionPerformed(ActionEvent e) {
                    MostrarDadosJButtonAtivacao(e);
                    }
                }
        );
        //Ativação Botão Imprimir Dados
        ImprimirDadosJButton = new JButton();
        ImprimirDadosJButton.setBounds(16,256,176,24);
        ImprimirDadosJButton.setText("Imprimir Dados");
        inputDetailJPanel.add(ImprimirDadosJButton);
        ImprimirDadosJButton.addActionListener(
                new ActionListener() {
                    @Override
                    public void actionPerformed(ActionEvent e) {
                        ImprimirDadosJButtonAtivacao(e);
                    }
                }
        );

        //Criação do expositor de dados
        displayJLabel = new JLabel();
        displayJLabel.setBounds(240,16,220,23);
        displayJLabel.setText("Informações dos Funcionários: ");
        contentPane.add(displayJLabel);

        //Criação da área dos Textos
        displayJTextArea = new JTextArea();
        JScrollPane scrollPane = new JScrollPane(displayJTextArea);
        scrollPane.setBounds(240,48,402,184);
        scrollPane.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS);
        contentPane.add(scrollPane);
        displayJTextArea.setText("Seja bem vindo! No momento não há contas criadas.");

        //Informações a serem mostradas
        CodigoJTextField.setText("");
        NomeFuncJTextField.setText("");
        CargoJTextField.setText("");
        SalarioJTextField.setText("0");
        nomeDependenteJTextField.setText("");
        TotalDependenteJTextField.setText("0");

        //Informações Janela
        setTitle("Gerenciamento de Pessoas");
        setSize(696,348);
        setVisible(true);
    }

    private void CriarFuncionarioJButtonAtivacao(ActionEvent e){
        displayJTextArea.setText("");

        codigo = "";
        nomeFunc = "";
        cargo = "";
        salario = 0;

        codigo = CodigoJTextField.getText();
        nomeFunc = NomeFuncJTextField.getText();
        cargo = CargoJTextField.getText();
        salario = Double.parseDouble(SalarioJTextField.getText());


    }

    private void ApagarFuncionarioJButtonAtivacao(ActionEvent e){
        if (Funcionarios.size() == 0) {
            displayJTextArea.setText("Não há funcionários cadastrados!");
        }else{
            String codigo = CodigoJTextField.getText();
            for(int i = 0; i < Funcionarios.size(); i++){
                DadosFuncionario dadosTemp = (DadosFuncionario)Funcionarios.get(i);
                if((dadosTemp.codigo == codigo)){
                    Funcionarios.remove(i);
                }
            }
        }

        CodigoJTextField.setText("");
        NomeFuncJTextField.setText("");
        CargoJTextField.setText("");
        SalarioJTextField.setText("0");
        nomeDependenteJTextField.setText("");
        TotalDependenteJTextField.setText("0");


    }
    private void CriarDependenteJButtonAtivacao(ActionEvent e){

    }
    private void MostrarDadosJButtonAtivacao(ActionEvent e){

    }

    private void ImprimirDadosJButtonAtivacao(ActionEvent e){
        AbrirArquivo();
        InserirDados();
        FecharArquivo();

        public static void AbrirArquivo(){
            try{
                output = new Formatter("Funcionarios.txt");
            } catch (SecurityException ex) {
                System.err.println();
            }
        }

    }































}
